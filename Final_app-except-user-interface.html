<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emergency Services App</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      width: 100%;
      max-width: 450px;
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      text-align: center;
    }

    .header h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }

    .header p {
      opacity: 0.9;
      font-size: 14px;
    }

    .content {
      padding: 30px;
    }

    .role-selector {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 25px;
    }

    .role-card {
      background: #f8f9fa;
      border: 3px solid transparent;
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .role-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    .role-card.active {
      border-color: #667eea;
      background: #f0f4ff;
    }

    .role-card.user.active { border-color: #3182ce; background: #ebf8ff; }
    .role-card.hospital.active { border-color: #e53e3e; background: #fff5f5; }
    .role-card.police.active { border-color: #3182ce; background: #ebf8ff; }
    .role-card.fire.active { border-color: #ed8936; background: #fffaf0; }
    .role-card.municipality.active { border-color: #38a169; background: #f0fff4; }

    .role-icon {
      font-size: 40px;
      margin-bottom: 10px;
    }

    .role-name {
      font-weight: bold;
      color: #333;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 600;
      font-size: 14px;
    }

    .form-group input {
      width: 100%;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      font-size: 14px;
      transition: border-color 0.3s;
    }

    .form-group input:focus {
      outline: none;
      border-color: #667eea;
    }

    .btn {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 10px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: #f8f9fa;
      color: #667eea;
    }

    .toggle-link {
      text-align: center;
      margin-top: 15px;
      color: #666;
      font-size: 14px;
    }

    .toggle-link a {
      color: #667eea;
      text-decoration: none;
      font-weight: bold;
    }

    .dashboard {
      display: none;
      min-height: 100vh;
      background: #f5f7fa;
    }

    .dashboard.active {
      display: block;
    }

    .dash-header {
      padding: 20px;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .dash-header.user { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .dash-header.hospital { background: linear-gradient(135deg, #f56565 0%, #c53030 100%); }
    .dash-header.police { background: linear-gradient(135deg, #4299e1 0%, #2b6cb0 100%); }
    .dash-header.fire { background: linear-gradient(135deg, #ed8936 0%, #c05621 100%); }
    .dash-header.municipality { background: linear-gradient(135deg, #48bb78 0%, #2f855a 100%); }

    .dash-title h2 {
      font-size: 24px;
      margin-bottom: 5px;
    }

    .dash-title p {
      opacity: 0.9;
      font-size: 14px;
    }

    .logout-btn {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 2px solid white;
      padding: 8px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
    }

    .logout-btn:hover {
      background: white;
      color: #333;
    }

    .dash-content {
      padding: 20px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .stat-number {
      font-size: 36px;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .stat-label {
      color: #666;
      font-size: 14px;
    }

    .reports-section {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .section-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 20px;
      color: #333;
    }

    .report-card {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 15px;
      border-left: 4px solid #667eea;
    }

    .report-card.hospital { border-left-color: #e53e3e; }
    .report-card.police { border-left-color: #3182ce; }
    .report-card.fire { border-left-color: #ed8936; }
    .report-card.municipality { border-left-color: #38a169; }

    .report-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .report-id {
      font-weight: bold;
      color: #333;
    }

    .report-time {
      color: #666;
      font-size: 13px;
    }

    .report-details {
      display: grid;
      gap: 10px;
    }

    .report-detail {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      color: #555;
    }

    .detail-icon {
      width: 20px;
      text-align: center;
    }

    .report-image {
      margin-top: 15px;
      width: 100%;
      max-width: 300px;
      border-radius: 10px;
      cursor: pointer;
    }

    .view-location-btn {
      margin-top: 10px;
      padding: 10px 20px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }

    .view-location-btn:hover {
      background: #5568d3;
    }

    .user-dashboard {
      padding-bottom: 80px;
    }

    .hidden {
      display: none;
    }

    @media (max-width: 768px) {
      .role-selector {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>

  <!-- Login/Signup Page -->
  <div id="authPage" class="container">
    <div class="header">
      <h1>üö® Emergency Services</h1>
      <p>Secure Access Portal</p>
    </div>
    
    <div class="content">
      <div class="role-selector">
        <div class="role-card user" data-role="user">
          <div class="role-icon">üë§</div>
          <div class="role-name">User</div>
        </div>
        <div class="role-card hospital" data-role="hospital">
          <div class="role-icon">üè•</div>
          <div class="role-name">Hospital</div>
        </div>
        <div class="role-card police" data-role="police">
          <div class="role-icon">üëÆ</div>
          <div class="role-name">Police</div>
        </div>
        <div class="role-card fire" data-role="fire">
          <div class="role-icon">üöí</div>
          <div class="role-name">Fire Brigade</div>
        </div>
        <div class="role-card municipality" data-role="municipality">
          <div class="role-icon">üèõÔ∏è</div>
          <div class="role-name">Municipality</div>
        </div>
      </div>

      <form id="authForm">
        <div class="form-group">
          <label for="name">Full Name / Organization Name</label>
          <input type="text" id="name" placeholder="Enter your name" required>
        </div>

        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" placeholder="Enter your email" required>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" placeholder="Enter password" required>
        </div>

        <div class="form-group" id="orgIdGroup" style="display: none;">
          <label for="orgId">Organization ID</label>
          <input type="text" id="orgId" placeholder="Enter organization ID">
        </div>

        <button type="submit" class="btn btn-primary" id="submitBtn">Sign Up</button>
        <button type="button" class="btn btn-secondary" id="toggleMode">Already have an account? Login</button>
      </form>
    </div>
  </div>

  <!-- User Dashboard -->
  <div id="userDashboard" class="dashboard">
    <div class="dash-header user">
      <div class="dash-title">
        <h2>Welcome, <span id="userName">User</span></h2>
        <p>Report emergencies instantly</p>
      </div>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
    
    <div class="dash-content user-dashboard">
      <!-- This would be the existing one.html content -->
      <div style="text-align: center; padding: 40px;">
        <h3 style="color: #667eea; margin-bottom: 20px;">User Interface</h3>
        <p style="color: #666; margin-bottom: 30px;">This is where the existing emergency reporting interface (C:\Users\jakha\OneDrive\Desktop\one.html) would be integrated</p>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number" style="color: #667eea;">0</div>
            <div class="stat-label">Reports Submitted</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" style="color: #38a169;">0</div>
            <div class="stat-label">Reports Resolved</div>
          </div>
        </div>

        <div class="section" style="background-color: white; border-radius: 20px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.15);">
          <h2 style="color: #e53e3e; margin-bottom: 15px;">Emergency Services</h2>
          
          <div class="button hospital" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; margin-bottom: 10px; border-radius: 15px; color: white; font-weight: bold; cursor: pointer; background-color: #e53e3e;">
            <span>Hospital</span>
            <span>üè•</span>
          </div>

          <div class="button fire" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; margin-bottom: 10px; border-radius: 15px; color: white; font-weight: bold; cursor: pointer; background-color: #ed8936;">
            <span>Fire Brigade</span>
            <span>üöí</span>
          </div>

          <div class="button police" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; margin-bottom: 10px; border-radius: 15px; color: white; font-weight: bold; cursor: pointer; background-color: #3182ce;">
            <span>Police</span>
            <span>üëÆ</span>
          </div>

          <div class="button municipality" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; margin-bottom: 10px; border-radius: 15px; color: white; font-weight: bold; cursor: pointer; background-color: #38a169;">
            <span>Municipality</span>
            <span>üèõÔ∏è</span>
          </div>
        </div>
      </div>
    </div>


  <!-- Hospital Dashboard -->
  <div id="hospitalDashboard" class="dashboard">
    <div class="dash-header hospital">
      <div class="dash-title">
        <h2><span id="hospitalName">Hospital</span></h2>
        <p>Emergency Medical Reports</p>
      </div>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
    
    <div class="dash-content">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number" style="color: #e53e3e;">12</div>
          <div class="stat-label">Active Reports</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" style="color: #ed8936;">8</div>
          <div class="stat-label">Pending Response</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" style="color: #38a169;">45</div>
          <div class="stat-label">Resolved Today</div>
        </div>
      </div>

      <div class="reports-section">
        <h3 class="section-title">üö® Incoming Emergency Reports</h3>
        
        <div class="report-card hospital">
          <div class="report-header">
            <span class="report-id">Report #EM2024-001</span>
            <span class="report-time">5 minutes ago</span>
          </div>
          <div class="report-details">
            <div class="report-detail">
              <span class="detail-icon">üìç</span>
              <span>Location: 28.6139¬∞ N, 77.2090¬∞ E</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">‚ö†Ô∏è</span>
              <span>Priority: High</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">üë§</span>
              <span>Reporter: John Doe</span>
            </div>
          </div>
          <img src="https://via.placeholder.com/300x200/e53e3e/ffffff?text=Emergency+Scene" class="report-image" alt="Emergency scene">
          <button class="view-location-btn" onclick="alert('Opening Google Maps...')">üìç View Location on Map</button>
        </div>

        <div class="report-card hospital">
          <div class="report-header">
            <span class="report-id">Report #EM2024-002</span>
            <span class="report-time">12 minutes ago</span>
          </div>
          <div class="report-details">
            <div class="report-detail">
              <span class="detail-icon">üìç</span>
              <span>Location: 28.7041¬∞ N, 77.1025¬∞ E</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">‚ö†Ô∏è</span>
              <span>Priority: Medium</span>
            </div>
          </div>
          <img src="https://via.placeholder.com/300x200/e53e3e/ffffff?text=Medical+Emergency" class="report-image" alt="Medical emergency">
          <button class="view-location-btn" onclick="alert('Opening Google Maps...')">üìç View Location on Map</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Police Dashboard -->
  <div id="policeDashboard" class="dashboard">
    <div class="dash-header police">
      <div class="dash-title">
        <h2><span id="policeName">Police Station</span></h2>
        <p>Security & Crime Reports</p>
      </div>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
    
    <div class="dash-content">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number" style="color: #3182ce;">7</div>
          <div class="stat-label">Active Incidents</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" style="color: #ed8936;">3</div>
          <div class="stat-label">Units Dispatched</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" style="color: #38a169;">28</div>
          <div class="stat-label">Resolved Today</div>
        </div>
      </div>

      <div class="reports-section">
        <h3 class="section-title">üöî Incoming Police Reports</h3>
        
        <div class="report-card police">
          <div class="report-header">
            <span class="report-id">Report #POL2024-101</span>
            <span class="report-time">3 minutes ago</span>
          </div>
          <div class="report-details">
            <div class="report-detail">
              <span class="detail-icon">üìç</span>
              <span>Location: 28.6562¬∞ N, 77.2410¬∞ E</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">‚ö†Ô∏è</span>
              <span>Type: Security Threat</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">üë§</span>
              <span>Reporter: Anonymous</span>
            </div>
          </div>
          <img src="https://via.placeholder.com/300x200/3182ce/ffffff?text=Security+Incident" class="report-image" alt="Security incident">
          <button class="view-location-btn" onclick="alert('Opening Google Maps...')">üìç View Location on Map</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Fire Brigade Dashboard -->
  <div id="fireDashboard" class="dashboard">
    <div class="dash-header fire">
      <div class="dash-title">
        <h2><span id="fireName">Fire Station</span></h2>
        <p>Fire & Rescue Operations</p>
      </div>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
    
    <div class="dash-content">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number" style="color: #ed8936;">4</div>
          <div class="stat-label">Active Fire Reports</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" style="color: #e53e3e;">2</div>
          <div class="stat-label">Trucks Deployed</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" style="color: #38a169;">15</div>
          <div class="stat-label">Resolved Today</div>
        </div>
      </div>

      <div class="reports-section">
        <h3 class="section-title">üî• Incoming Fire Reports</h3>
        
        <div class="report-card fire">
          <div class="report-header">
            <span class="report-id">Report #FIRE2024-055</span>
            <span class="report-time">2 minutes ago</span>
          </div>
          <div class="report-details">
            <div class="report-detail">
              <span class="detail-icon">üìç</span>
              <span>Location: 28.5355¬∞ N, 77.3910¬∞ E</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">üî•</span>
              <span>Severity: Critical</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">üè¢</span>
              <span>Type: Building Fire</span>
            </div>
          </div>
          <img src="https://via.placeholder.com/300x200/ed8936/ffffff?text=Fire+Emergency" class="report-image" alt="Fire emergency">
          <button class="view-location-btn" onclick="alert('Opening Google Maps...')">üìç View Location on Map</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Municipality Dashboard -->
  <div id="municipalityDashboard" class="dashboard">
    <div class="dash-header municipality">
      <div class="dash-title">
        <h2><span id="municipalityName">Municipality</span></h2>
        <p>Public Infrastructure Reports</p>
      </div>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
    
    <div class="dash-content">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number" style="color: #38a169;">18</div>
          <div class="stat-label">New Reports</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" style="color: #ed8936;">12</div>
          <div class="stat-label">In Progress</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" style="color: #3182ce;">67</div>
          <div class="stat-label">Resolved This Week</div>
        </div>
      </div>

      <div class="reports-section">
        <h3 class="section-title">üèõÔ∏è Public Service Reports</h3>
        
        <div class="report-card municipality">
          <div class="report-header">
            <span class="report-id">Report #MUN2024-234</span>
            <span class="report-time">15 minutes ago</span>
          </div>
          <div class="report-details">
            <div class="report-detail">
              <span class="detail-icon">üìç</span>
              <span>Location: 28.4595¬∞ N, 77.0266¬∞ E</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">‚ö†Ô∏è</span>
              <span>Issue: Road Damage</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">üë§</span>
              <span>Reporter: Sarah Smith</span>
            </div>
          </div>
          <img src="https://via.placeholder.com/300x200/38a169/ffffff?text=Infrastructure+Issue" class="report-image" alt="Infrastructure issue">
          <button class="view-location-btn" onclick="alert('Opening Google Maps...')">üìç View Location on Map</button>
        </div>

        <div class="report-card municipality">
          <div class="report-header">
            <span class="report-id">Report #MUN2024-235</span>
            <span class="report-time">28 minutes ago</span>
          </div>
          <div class="report-details">
            <div class="report-detail">
              <span class="detail-icon">üìç</span>
              <span>Location: 28.6692¬∞ N, 77.4538¬∞ E</span>
            </div>
            <div class="report-detail">
              <span class="detail-icon">‚ö†Ô∏è</span>
              <span>Issue: Street Light Malfunction</span>
            </div>
          </div>
          <img src="https://via.placeholder.com/300x200/38a169/ffffff?text=Street+Light+Issue" class="report-image" alt="Street light issue">
          <button class="view-location-btn" onclick="alert('Opening Google Maps...')">üìç View Location on Map</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    let selectedRole = null;
    let isLoginMode = false;
    const users = {}; // Store in memory (use database in production)

    // Role selection
    document.querySelectorAll('.role-card').forEach(card => {
      card.addEventListener('click', function() {
        document.querySelectorAll('.role-card').forEach(c => c.classList.remove('active'));
        this.classList.add('active');
        selectedRole = this.dataset.role;
        
        const orgIdGroup = document.getElementById('orgIdGroup');
        if (selectedRole !== 'user') {
          orgIdGroup.style.display = 'block';
          document.getElementById('orgId').required = true;
        } else {
          orgIdGroup.style.display = 'none';
          document.getElementById('orgId').required = false;
        }
      });
    });

    // Toggle between login and signup
    document.getElementById('toggleMode').addEventListener('click', function() {
      isLoginMode = !isLoginMode;
      const submitBtn = document.getElementById('submitBtn');
      const nameGroup = document.querySelector('.form-group');
      
      if (isLoginMode) {
        submitBtn.textContent = 'Login';
        this.textContent = "Don't have an account? Sign Up";
        nameGroup.style.display = 'none';
        document.getElementById('name').required = false;
      } else {
        submitBtn.textContent = 'Sign Up';
        this.textContent = 'Already have an account? Login';
        nameGroup.style.display = 'block';
        document.getElementById('name').required = true;
      }
    });

    // Form submission
    document.getElementById('authForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      if (!selectedRole) {
        alert('Please select your role');
        return;
      }

      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const orgId = document.getElementById('orgId').value;

      if (isLoginMode) {
        // Login logic
        const userKey = `${email}_${selectedRole}`;
        if (users[userKey] && users[userKey].password === password) {
          showDashboard(selectedRole, users[userKey].name);
        } else {
          alert('Invalid credentials');
        }
      } else {
        // Signup logic
        const userKey = `${email}_${selectedRole}`;
        users[userKey] = { name, email, password, role: selectedRole, orgId };
        alert('Account created successfully! Logging you in...');
        showDashboard(selectedRole, name);
      }
    });

    function showDashboard(role, name) {
      document.getElementById('authPage').classList.add('hidden');
      
      const dashboards = {
        user: 'userDashboard',
        hospital: 'hospitalDashboard',
        police: 'policeDashboard',
        fire: 'fireDashboard',
        municipality: 'municipalityDashboard'
      };

      const nameElements = {
        user: 'userName',
        hospital: 'hospitalName',
        police: 'policeName',
        fire: 'fireName',
        municipality: 'municipalityName'
      };

      const dashboardId = dashboards[role];
      document.getElementById(dashboardId).classList.add('active');
      
      if (nameElements[role]) {
        document.getElementById(nameElements[role]).textContent = name;
      }

      // For user role, redirect to one.html
      if (role === 'user') {
        localStorage.setItem('loggedInUser', JSON.stringify({ name, email, role }));
        window.location.href = 'C:\Users\jakha\OneDrive\Desktop\one.html';
      }
    }

    function logout() {
      localStorage.removeItem('loggedInUser');
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('authPage').classList.remove('hidden');
      document.getElementById('authForm').reset();
      document.querySelectorAll('.role-card').forEach(c => c.classList.remove('active'));
      selectedRole = null;
    }

    // Check if user is already logged in
    window.addEventListener('DOMContentLoaded', function() {
      const loggedInUser = localStorage.getItem('loggedInUser');
      if (loggedInUser) {
        const user = JSON.parse(loggedInUser);
        showDashboard(user.role, user.name);
      }
    });
  </script>
</body>
</html>
